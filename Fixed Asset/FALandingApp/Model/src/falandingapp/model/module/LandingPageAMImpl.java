package falandingapp.model.module;

import adf.utils.ebiz.EbizParams;

import falandingapp.model.module.common.LandingPageAM;

import oracle.jbo.Row;
import oracle.jbo.server.ApplicationModuleImpl;
import oracle.jbo.server.ViewObjectImpl;

import org.apache.myfaces.trinidad.context.RequestContext;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Mon May 04 12:48:17 IST 2015
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class LandingPageAMImpl extends ApplicationModuleImpl implements LandingPageAM {
    /**
     * This is the default constructor (do not remove).
     */
    public LandingPageAMImpl() {
    }

    /**
     * Container's getter for LovNetAssetAsonDate1.
     * @return LovNetAssetAsonDate1
     */
    public ViewObjectImpl getLovNetAssetAsonDate1() {
        return (ViewObjectImpl) findViewObject("LovNetAssetAsonDate1");
    }

    /**
     * Container's getter for Ticker1.
     * @return Ticker1
     */
    public ViewObjectImpl getTicker1() {
        return (ViewObjectImpl) findViewObject("Ticker1");
    }

    /**
     * Container's getter for Ticker2_1.
     * @return Ticker2_1
     */
    public ViewObjectImpl getTicker2_1() {
        return (ViewObjectImpl) findViewObject("Ticker2_1");
    }
    public String filter(){
        System.out.println("EbizParams.GLBL_APP_CLD_ID() = "+EbizParams.GLBL_APP_CLD_ID());
        System.out.println("EbizParams.GLBL_HO_ORG_ID() = "+EbizParams.GLBL_HO_ORG_ID());
        System.out.println("EbizParams.GLBL_APP_USR_ORG() = "+EbizParams.GLBL_APP_USR_ORG());
        System.out.println("EbizParams.GLBL_APP_SERV_LOC() = "+EbizParams.GLBL_APP_SERV_LOC());
        
        ViewObjectImpl as = getLovNetAssetAsonDate1();
        as.setNamedWhereClauseParam("BindCldId",EbizParams.GLBL_APP_CLD_ID());
        as.setNamedWhereClauseParam("BindHoOrgId",EbizParams.GLBL_HO_ORG_ID());
        as.setNamedWhereClauseParam("BindOrgId",EbizParams.GLBL_APP_USR_ORG());
        as.setNamedWhereClauseParam("BindSlocId",EbizParams.GLBL_APP_SERV_LOC());
        as.executeQuery();
        System.out.println("rows -"+as.getAllRowsInRange());
        ViewObjectImpl at = getTicker1();
        at.setNamedWhereClauseParam("BindCldId",EbizParams.GLBL_APP_CLD_ID());
        at.setNamedWhereClauseParam("BindHoOrgId",EbizParams.GLBL_HO_ORG_ID());
        at.setNamedWhereClauseParam("BindOrgId",EbizParams.GLBL_APP_USR_ORG());
        at.setNamedWhereClauseParam("BindSlocId",EbizParams.GLBL_APP_SERV_LOC());
        at.executeQuery();
        
        ViewObjectImpl ap = getTicker2_1();
        ap.setNamedWhereClauseParam("BindCldId",EbizParams.GLBL_APP_CLD_ID());
        ap.setNamedWhereClauseParam("BindHoOrgId",EbizParams.GLBL_HO_ORG_ID());
        ap.setNamedWhereClauseParam("BindOrgId",EbizParams.GLBL_APP_USR_ORG());
        ap.setNamedWhereClauseParam("BindSlocId",EbizParams.GLBL_APP_SERV_LOC());
        ap.executeQuery();
        
        
        ViewObjectImpl ag = getGroupWise1();
        ag.setNamedWhereClauseParam("BindCldId",EbizParams.GLBL_APP_CLD_ID());
        ag.setNamedWhereClauseParam("BindHoOrgId",EbizParams.GLBL_HO_ORG_ID());
        ag.setNamedWhereClauseParam("BindOrgId",EbizParams.GLBL_APP_USR_ORG());
        ag.setNamedWhereClauseParam("BindSlocId",EbizParams.GLBL_APP_SERV_LOC());
        ag.executeQuery();
        
        ViewObjectImpl af = getFy1();
        af.setNamedWhereClauseParam("BindCldId",EbizParams.GLBL_APP_CLD_ID());
        af.setNamedWhereClauseParam("BindHoOrgId",EbizParams.GLBL_HO_ORG_ID());
        af.setNamedWhereClauseParam("BindOrgId",EbizParams.GLBL_APP_USR_ORG());
        af.setNamedWhereClauseParam("BindSlocId",EbizParams.GLBL_APP_SERV_LOC());
        af.executeQuery();
        
        return null;
    }

    /**
     * Container's getter for GroupWise1.
     * @return GroupWise1
     */
    public ViewObjectImpl getGroupWise1() {
        return (ViewObjectImpl) findViewObject("GroupWise1");
    }

    /**
     * Container's getter for Fy1.
     * @return Fy1
     */
    public ViewObjectImpl getFy1() {
        return (ViewObjectImpl) findViewObject("Fy1");
    }

    /**
     * Container's getter for LovUnposted1.
     * @return LovUnposted1
     */
    public ViewObjectImpl getLovUnposted1() {
        return (ViewObjectImpl) findViewObject("LovUnposted1");
    }
    public String unPostedDetail(){
        System.out.println("in unPostedDetail");
        ViewObjectImpl un = getLovUnposted1();
        un.setNamedWhereClauseParam("BindCldId", EbizParams.GLBL_APP_CLD_ID());
        un.setNamedWhereClauseParam("BindHoOrgId", EbizParams.GLBL_HO_ORG_ID());
        un.setNamedWhereClauseParam("BindSlocId", EbizParams.GLBL_APP_SERV_LOC());
        un.setNamedWhereClauseParam("BindorgId", EbizParams.GLBL_APP_USR_ORG());
        un.executeQuery();
        Row[] allRowsInRange = un.getAllRowsInRange();
        if(allRowsInRange.length>0){
            System.out.println("when row smr den 0");
            Object DepExeId = allRowsInRange[0].getAttribute("DepExeId");
            Object FyId = allRowsInRange[0].getAttribute("FyId");
            Object PrdId = allRowsInRange[0].getAttribute("PrdId");
            Object DepLawTyp = allRowsInRange[0].getAttribute("DepLawTyp");
        RequestContext.getCurrentInstance().getPageFlowScope().put("GLBL_FY_ID", FyId);
            RequestContext.getCurrentInstance().getPageFlowScope().put("GLBL_LAW_TYP_SRCH", DepLawTyp);
            RequestContext.getCurrentInstance().getPageFlowScope().put("PARAM_APP_EXEID",DepExeId );
            RequestContext.getCurrentInstance().getPageFlowScope().put("PARAM_PRD_ID", PrdId);
            return "Y";
        }else{
            System.out.println("before returnning error");
            return "No Voucher is in Unposted state";
        }
       
    }
}

