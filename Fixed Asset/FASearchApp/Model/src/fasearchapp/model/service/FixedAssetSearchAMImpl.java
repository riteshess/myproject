package fasearchapp.model.service;

import adf.utils.ebiz.EbizParams;
import adf.utils.model.ADFModelUtils;

import oracle.jbo.Row;
import oracle.jbo.server.ApplicationModuleImpl;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Thu May 07 20:06:11 IST 2015
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class FixedAssetSearchAMImpl extends ApplicationModuleImpl {
    /**
     * This is the default constructor (do not remove).
     */
    public FixedAssetSearchAMImpl() {
    }

    /**
     * Container's getter for FASearchVO.
     * @return FASearchVO
     */
    public ViewObjectImpl getFASearchVO() {
        return (ViewObjectImpl) findViewObject("FASearchVO");
    }

    /**
     * Container's getter for FARegisterSearchVO.
     * @return FARegisterSearchVO
     */
    public ViewObjectImpl getFARegisterSearchVO() {
        return (ViewObjectImpl) findViewObject("FARegisterSearchVO");
    }


    /**
     * Container's getter for FADepDtlSearch1.
     * @return FADepDtlSearch1
     */
    public ViewObjectImpl getFADepDtlSearchVO() {
        return (ViewObjectImpl) findViewObject("FADepDtlSearchVO");
    }

    public void faSearch() {
        ViewObjectImpl faSearchVO = this.getFASearchVO();
        Row currentRow = faSearchVO.getCurrentRow();
        if (ADFModelUtils.resolvEl("#{pageFlowScope.GLBL_APP_NM}") != null &&
            Integer.parseInt(ADFModelUtils.resolvEl("#{pageFlowScope.GLBL_APP_NM}").toString()) == 20001) {
            ViewObjectImpl registerSearchVO = this.getFARegisterSearchVO();
            registerSearchVO.setNamedWhereClauseParam("BindCldId", EbizParams.GLBL_APP_CLD_ID());
            registerSearchVO.setNamedWhereClauseParam("BindSlocId", EbizParams.GLBL_APP_SERV_LOC());
            registerSearchVO.setNamedWhereClauseParam("BindOrgId", EbizParams.GLBL_APP_USR_ORG());
            registerSearchVO.setNamedWhereClauseParam("BindHoOrgId", EbizParams.GLBL_HO_ORG_ID());
            registerSearchVO.setNamedWhereClauseParam("BindFYId", currentRow.getAttribute("TransFyId"));
            registerSearchVO.setNamedWhereClauseParam("BindItmGrpId", currentRow.getAttribute("TransitmGrpId"));
            registerSearchVO.setNamedWhereClauseParam("BindItmId", currentRow.getAttribute("TransItmId"));
            registerSearchVO.setNamedWhereClauseParam("BindDocTypSrc", currentRow.getAttribute("TransDocSrc"));
            registerSearchVO.setNamedWhereClauseParam("BindVouId", currentRow.getAttribute("TransPurVouId"));
            registerSearchVO.setNamedWhereClauseParam("BindStrtDt", currentRow.getAttribute("TransFromDt"));
            registerSearchVO.setNamedWhereClauseParam("BindEndDt", currentRow.getAttribute("TransEndDt"));
            registerSearchVO.setNamedWhereClauseParam("BindFaDispId", currentRow.getAttribute("TransRegisterFaDispId"));
            registerSearchVO.executeQuery();
        }
        if (ADFModelUtils.resolvEl("#{pageFlowScope.GLBL_APP_NM}") != null &&
            Integer.parseInt(ADFModelUtils.resolvEl("#{pageFlowScope.GLBL_APP_NM}").toString()) == 20002) {
            ViewObjectImpl depDtlSearchVO = this.getFADepDtlSearchVO();
            depDtlSearchVO.setNamedWhereClauseParam("BindCldId", EbizParams.GLBL_APP_CLD_ID());
            depDtlSearchVO.setNamedWhereClauseParam("BindSlocId", EbizParams.GLBL_APP_SERV_LOC());
            depDtlSearchVO.setNamedWhereClauseParam("BindOrgId", EbizParams.GLBL_APP_USR_ORG());
            depDtlSearchVO.setNamedWhereClauseParam("BindHoOrgId", EbizParams.GLBL_HO_ORG_ID());
            depDtlSearchVO.setNamedWhereClauseParam("BindFyId", currentRow.getAttribute("TransFyId"));
            depDtlSearchVO.setNamedWhereClauseParam("BindLawTyp", currentRow.getAttribute("TransLawType"));
            depDtlSearchVO.setNamedWhereClauseParam("BindPrdId", currentRow.getAttribute("TransPeriodId"));
            depDtlSearchVO.setNamedWhereClauseParam("BindItmGrpId", currentRow.getAttribute("TransitmGrpId"));
            depDtlSearchVO.setNamedWhereClauseParam("BindItmId", currentRow.getAttribute("TransItmId"));
            depDtlSearchVO.setNamedWhereClauseParam("BindStartDate", currentRow.getAttribute("TransFromDt"));
            depDtlSearchVO.setNamedWhereClauseParam("BindEndDt", currentRow.getAttribute("TransEndDt"));
            depDtlSearchVO.setNamedWhereClauseParam("BindExeID", currentRow.getAttribute("TranDepVouId"));
            depDtlSearchVO.executeQuery();

        }
    }

    public void faReset() {
        ViewObjectImpl faSearchVO = this.getFASearchVO();
        if (ADFModelUtils.resolvEl("#{pageFlowScope.GLBL_APP_NM}") != null &&
            Integer.parseInt(ADFModelUtils.resolvEl("#{pageFlowScope.GLBL_APP_NM}").toString()) == 20001) {
            ViewObjectImpl registerSearchVO = this.getFARegisterSearchVO();
            registerSearchVO.setNamedWhereClauseParam("BindCldId", -1);
            registerSearchVO.executeQuery();
        }
        if (ADFModelUtils.resolvEl("#{pageFlowScope.GLBL_APP_NM}") != null &&
            Integer.parseInt(ADFModelUtils.resolvEl("#{pageFlowScope.GLBL_APP_NM}").toString()) == 20002) {
            ViewObjectImpl depDtlSearchVO = this.getFADepDtlSearchVO();
            depDtlSearchVO.setNamedWhereClauseParam("BindCldId", -1);
            depDtlSearchVO.executeQuery();


        }
        faSearchVO.executeQuery();
    }

    public String getExeId() {
        ViewObjectImpl aDepDtlSearchVO = this.getFADepDtlSearchVO();
        String DepExeId = aDepDtlSearchVO.getCurrentRow().getAttribute("DepExeId").toString();
        return DepExeId;

    }

    public String getRegDocId() {
        ViewObjectImpl registerSearchVO = this.getFARegisterSearchVO();
        String docId = null;
        if (registerSearchVO.getCurrentRow().getAttribute("DocId") != null) {
            System.out.println("getting doc iddd");
            docId = registerSearchVO.getCurrentRow().getAttribute("DocId").toString();
            System.out.println("doc idd iss ===" + docId);
        }
        System.out.println("doc iddd nulllll returned");
        return docId;
    }

    public void returnFromTF() {
        this.getFADepDtlSearchVO().setNamedWhereClauseParam("BindCldId", -1);
        this.getFADepDtlSearchVO().executeQuery();
        this.getFARegisterSearchVO().setNamedWhereClauseParam("BindCldId", -1);
        this.getFARegisterSearchVO().executeQuery();
        this.getFASearchVO().executeQuery();
    }

    /**
     * Container's getter for LovPeriod1.
     * @return LovPeriod1
     */
    public ViewObjectImpl getLovPeriodVO() {
        return (ViewObjectImpl) findViewObject("LovPeriodVO");
    }

    public String chkForPendingProcess() {
        ViewObjectImpl depDtlSearchVO = this.getFADepDtlSearchVO();
        depDtlSearchVO.setNamedWhereClauseParam("BindCldId", EbizParams.GLBL_APP_CLD_ID());
        depDtlSearchVO.setNamedWhereClauseParam("BindSlocId", EbizParams.GLBL_APP_SERV_LOC());
        depDtlSearchVO.setNamedWhereClauseParam("BindOrgId", EbizParams.GLBL_APP_USR_ORG());
        depDtlSearchVO.setNamedWhereClauseParam("BindHoOrgId", EbizParams.GLBL_HO_ORG_ID());
        depDtlSearchVO.executeQuery();
        Row[] filteredRows = depDtlSearchVO.getFilteredRows("VouStatus", "Pending");
        if (filteredRows.length > 0)
            return "Y";
        else
            return "N";
    }
}

