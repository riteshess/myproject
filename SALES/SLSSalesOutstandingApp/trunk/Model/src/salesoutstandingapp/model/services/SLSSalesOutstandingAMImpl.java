package salesoutstandingapp.model.services;

import adf.utils.ebiz.EbizParams;

import javax.el.ELContext;
import javax.el.ExpressionFactory;
import javax.el.ValueExpression;

import javax.faces.application.Application;
import javax.faces.context.FacesContext;

import oracle.jbo.Row;
import oracle.jbo.server.ApplicationModuleImpl;
import oracle.jbo.server.ViewLinkImpl;
import oracle.jbo.server.ViewObjectImpl;

import salesoutstandingapp.model.services.common.SLSSalesOutstandingAM;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Wed Dec 18 18:34:14 IST 2013
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class SLSSalesOutstandingAMImpl extends ApplicationModuleImpl implements SLSSalesOutstandingAM {
    /**
     * This is the default constructor (do not remove).
     */
    public SLSSalesOutstandingAMImpl() {
    }

    /**
     * Container's getter for OutstandingGraphVo.
     * @return OutstandingGraphVo
     */
    public ViewObjectImpl getOutstandingGraphVo() {
        return (ViewObjectImpl)findViewObject("OutstandingGraphVo");
    }

    /**
     * Container's getter for OutstandingTableVo.
     * @return OutstandingTableVo
     */
    public ViewObjectImpl getOutstandingTableVo() {
        return (ViewObjectImpl)findViewObject("OutstandingTableVo");
    }
    

    /**
     * Method to set bindvariables in views
     */
    public void setBindVariables(){
        ViewObjectImpl graphVo = this.getOutstandingGraphVo();
        graphVo.setNamedWhereClauseParam("SlocIdBind", EbizParams.GLBL_APP_SERV_LOC());
        graphVo.setNamedWhereClauseParam("OrgIdBind", EbizParams.GLBL_APP_USR_ORG());
        graphVo.setNamedWhereClauseParam("CldIdBind", EbizParams.GLBL_APP_CLD_ID());
        graphVo.setNamedWhereClauseParam("CoaIdBind", -1);
        graphVo.executeQuery();
        
        ViewObjectImpl tableVo = this.getOutstandingTableVo();
        tableVo.setNamedWhereClauseParam("SlocIdBind", EbizParams.GLBL_APP_SERV_LOC());
        tableVo.setNamedWhereClauseParam("OrgIdBind", EbizParams.GLBL_APP_USR_ORG());
        tableVo.setNamedWhereClauseParam("CldIdBind",  EbizParams.GLBL_APP_CLD_ID());
        tableVo.setNamedWhereClauseParam("CoaIdBind", -1);
        tableVo.executeQuery();
    }

    /**
     * Container's getter for TempVo.
     * @return TempVo
     */
    public ViewObjectImpl getTempVo() {
        return (ViewObjectImpl)findViewObject("TempVo");
    }
    
    public void setCoaNm(){
        Row currentRow = this.getTempVo().getCurrentRow();
        if(currentRow != null){
            Object coaId = currentRow.getAttribute("CoaIdTrans");
            ViewObjectImpl graphVo = this.getOutstandingGraphVo();
            graphVo.setNamedWhereClauseParam("CoaIdBind", coaId);
            graphVo.executeQuery();
            ViewObjectImpl impl = this.getOutstandingTableVo();
            impl.setNamedWhereClauseParam("CoaIdBind", coaId);
            impl.executeQuery();
        }
    }

    /**
     * Container's getter for OutstandingDetailsVo.
     * @return OutstandingDetailsVo
     */
    public ViewObjectImpl getOutstandingDetailsVo() {
        return (ViewObjectImpl)findViewObject("OutstandingDetailsVo");
    }

    /**
     * Container's getter for OutstandingTableTOOutstandingDetailsVL1.
     * @return OutstandingTableTOOutstandingDetailsVL1
     */
    public ViewLinkImpl getOutstandingTableTOOutstandingDetailsVL1() {
        return (ViewLinkImpl)findViewLink("OutstandingTableTOOutstandingDetailsVL1");
    }
}
