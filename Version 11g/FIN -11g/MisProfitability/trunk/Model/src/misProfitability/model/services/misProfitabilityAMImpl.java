package misProfitability.model.services;


import misProfitability.model.services.common.misProfitabilityAM;

import oracle.jbo.Row;
import oracle.jbo.ViewObject;
import oracle.jbo.server.ApplicationModuleImpl;
import oracle.jbo.server.ViewObjectImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Thu Nov 28 11:24:19 IST 2013
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class misProfitabilityAMImpl extends ApplicationModuleImpl implements misProfitabilityAM {
    /**
     * This is the default constructor (do not remove).
     */
    public misProfitabilityAMImpl() {
    }

    /**
     * Container's getter for misConsolidateGraphVO.
     * @return misConsolidateGraphVO
     */
    public ViewObjectImpl getmisConsolidateGraphVO() {
        return (ViewObjectImpl)findViewObject("misConsolidateGraphVO");
    }

    /**
     * This method has been called as first activity in the task flow.
     * **/
    public void setGlobalParameters(String p_cld_id, String p_org_id, Integer p_graph_id) {

        this.setMisConsolidateGraphParameters(p_cld_id, p_org_id, p_graph_id);

    }

    /**
     *
     * **/
    public void setMisConsolidateGraphParameters(String p_cld_id, String p_org_id, Integer p_graph_id) {


        this.getmisConsolidateGraphVO().setNamedWhereClauseParam("BindCldId", p_cld_id);
        this.getmisConsolidateGraphVO().setNamedWhereClauseParam("BindOrgId", p_org_id);
        this.getmisConsolidateGraphVO().setNamedWhereClauseParam("BindGrphId", p_graph_id);
        this.getmisConsolidateGraphVO().executeQuery();


    }


    public String getAmountLabel(String p_cld_id, String p_org_id, Integer p_graph_id) {

        ViewObjectImpl misConsolidateGraphVO = this.getmisConsolidateGraphVO();
        misConsolidateGraphVO.setNamedWhereClauseParam("BindCldId", p_cld_id);
        misConsolidateGraphVO.setNamedWhereClauseParam("BindOrgId", p_org_id);
        misConsolidateGraphVO.setNamedWhereClauseParam("BindGrphId", p_graph_id);
        misConsolidateGraphVO.executeQuery();
       
        try {
            Row allRow[] = misConsolidateGraphVO.getAllRowsInRange();
            if (allRow.length > 0) {
                
                return allRow[0].getAttribute("GrphCol1Data").toString();
            } else {
                return null;}
        } catch (Exception e) {
            
            return null;
        }
    }


    public Number getAmountVal(String p_cld_id, String p_org_id, Integer p_graph_id) {
        ViewObject grpgVo = this.getmisConsolidateGraphVO();
        
        grpgVo.setNamedWhereClauseParam("BindCldId", p_cld_id);
        grpgVo.setNamedWhereClauseParam("BindOrgId", p_org_id);
        grpgVo.setNamedWhereClauseParam("BindGrphId", p_graph_id);
        grpgVo.executeQuery();
        
        try {
            Row allRow[] = grpgVo.getAllRowsInRange();
            if (allRow.length > 0) {
                
                return (Number)allRow[0].getAttribute("GrphCol2Data");
            } else {
                return null;
            }
            
        } catch (Exception e) {
            
            return null;
        }
    }
}
