package slspicpackshipapp.model.views;

import java.sql.Timestamp;

import javax.el.ELContext;
import javax.el.ExpressionFactory;
import javax.el.ValueExpression;

import javax.faces.application.Application;
import javax.faces.context.FacesContext;

import oracle.jbo.server.QueryCollection;
import oracle.jbo.server.ViewObjectImpl;

import slspicpackshipapp.model.service.pickPackShipAMImpl;


// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Mon Oct 07 15:21:08 IST 2013
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class ViewSlsSoPickItmVOImpl extends ViewObjectImpl {
    /**
     * This is the default constructor (do not remove).
     */
    public ViewSlsSoPickItmVOImpl() {
    }

    /**
     * Returns the bind variable value for bindDlvDt.
     * @return bind variable value for bindDlvDt
     */
    public Timestamp getbindDlvDt() {
        return (Timestamp)getNamedWhereClauseParam("bindDlvDt");
    }

    /**
     * Sets <code>value</code> for bind variable bindDlvDt.
     * @param value value to bind as bindDlvDt
     */
    public void setbindDlvDt(oracle.jbo.domain.Timestamp value) {
        setNamedWhereClauseParam("bindDlvDt", value);
    }

    /**
     * @param data
     * @return
     * function to get Application module value from a EL expression. Input will be a string value containing name of application module.
     */
    public Object resolvElDC(String data) {
        FacesContext fc = FacesContext.getCurrentInstance();
        Application app = fc.getApplication();
        ExpressionFactory elFactory = app.getExpressionFactory();
        ELContext elContext = fc.getELContext();
        ValueExpression valueExp =
            elFactory.createValueExpression(elContext, "#{data." + data + ".dataProvider}", Object.class);
        return valueExp.getValue(elContext);
    }

    /**
     * @return
     * Generalized function to call object of application module.
     */
    public pickPackShipAMImpl getAm() {
        pickPackShipAMImpl am = (pickPackShipAMImpl)resolvElDC("pickPackShipAMDataControl");
        return am;
    }

  protected void executeQueryForCollection(Object object, Object[] object2, int i) {
        super.executeQueryForCollection(object, object2, i);
        oracle.jbo.domain.Timestamp val = getAm().getPickDateBean();
        QueryCollection queryCol = (QueryCollection)object;
        Object[] values = queryCol.getRowFilter().getParamValues();
        oracle.jbo.domain.Timestamp filter = null;
        if (val != null) {
            filter = val;
        }
        System.out.println("Filter Values is-->" + filter + "And rowcount is-->" + this.getRowCount());
        if (filter == null) {
            this.setWhereClause(null);
        } else {
            this.setWhereClause("DLV_TLRNC_DAYS >= nvl("+filter+",DLV_TLRNC_DAYS) \n" + 
            "      AND DLV_TLRNC_DAYS_BEF <= nvl("+filter+",DLV_TLRNC_DAYS_BEF)");
            //this.setWhereClause("DLV_DT<='" + filter + "'");
        }
    //    this.executeQuery();
    System.out.println("RowCount after filter is-->"+this.getRowCount());
        

    }  

    /**
     * Returns the variable value for itmIdBind.
     * @return variable value for itmIdBind
     */
    public String getitmIdBind() {
        return (String)ensureVariableManager().getVariableValue("itmIdBind");
    }

    /**
     * Sets <code>value</code> for variable itmIdBind.
     * @param value value to bind as itmIdBind
     */
    public void setitmIdBind(String value) {
        ensureVariableManager().setVariableValue("itmIdBind", value);
    }

    /**
     * Returns the variable value for whIdBind.
     * @return variable value for whIdBind
     */
    public String getwhIdBind() {
        return (String)ensureVariableManager().getVariableValue("whIdBind");
    }

    /**
     * Sets <code>value</code> for variable whIdBind.
     * @param value value to bind as whIdBind
     */
    public void setwhIdBind(String value) {
        ensureVariableManager().setVariableValue("whIdBind", value);
    }


    /**
     * Returns the variable value for tolrnceDtBind.
     * @return variable value for tolrnceDtBind
     */
    public Timestamp gettolrnceDtBind() {
        return (Timestamp)ensureVariableManager().getVariableValue("tolrnceDtBind");
    }

    /**
     * Sets <code>value</code> for variable tolrnceDtBind.
     * @param value value to bind as tolrnceDtBind
     */
    public void settolrnceDtBind(Timestamp value) {
        ensureVariableManager().setVariableValue("tolrnceDtBind", value);
    }

    /**
     * Returns the bind variable value for pick_doc_id_bind.
     * @return bind variable value for pick_doc_id_bind
     */
    public String getpick_doc_id_bind() {
        return (String)getNamedWhereClauseParam("pick_doc_id_bind");
    }

    /**
     * Sets <code>value</code> for bind variable pick_doc_id_bind.
     * @param value value to bind as pick_doc_id_bind
     */
    public void setpick_doc_id_bind(String value) {
        setNamedWhereClauseParam("pick_doc_id_bind", value);
    }
}
