package bdganalysisapp.model.views;

import bdganalysisapp.model.modules.BdgAnalysisAppAMImpl;

import javax.el.ELContext;
import javax.el.ExpressionFactory;
import javax.el.ValueExpression;

import javax.faces.application.Application;
import javax.faces.context.FacesContext;

import oracle.jbo.Row;
import oracle.jbo.RowIterator;
import oracle.jbo.domain.Number;
import oracle.jbo.domain.Timestamp;
import oracle.jbo.server.ViewRowImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Tue Jan 20 15:58:44 IST 2015
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class BdgAnalysisHierarchyVwVORowImpl extends ViewRowImpl {
    /**
     * AttributesEnum: generated enum for identifying attributes and accessors. DO NOT MODIFY.
     */
    public enum AttributesEnum {
        CldId,
        SlocId,
        HoOrgId,
        OrgId,
        DocStruct,
        DocStructVal,
        DocStructValNm,
        DocStructDepd,
        DocStructDepdVal,
        Lvl,
        TransBudgAmt,
        TransRangeStrtDt,
        TransRangeEndDt,
        TransBudgAmtDisp,
        CldIdBdgAnalysisHierarchyVw_2;
        private static AttributesEnum[] vals = null;
        private static final int firstIndex = 0;

        public int index() {
            return AttributesEnum.firstIndex() + ordinal();
        }

        public static final int firstIndex() {
            return firstIndex;
        }

        public static int count() {
            return AttributesEnum.firstIndex() + AttributesEnum.staticValues().length;
        }

        public static final AttributesEnum[] staticValues() {
            if (vals == null) {
                vals = AttributesEnum.values();
            }
            return vals;
        }
    }


    public static final int CLDID = AttributesEnum.CldId.index();
    public static final int SLOCID = AttributesEnum.SlocId.index();
    public static final int HOORGID = AttributesEnum.HoOrgId.index();
    public static final int ORGID = AttributesEnum.OrgId.index();
    public static final int DOCSTRUCT = AttributesEnum.DocStruct.index();
    public static final int DOCSTRUCTVAL = AttributesEnum.DocStructVal.index();
    public static final int DOCSTRUCTVALNM = AttributesEnum.DocStructValNm.index();
    public static final int DOCSTRUCTDEPD = AttributesEnum.DocStructDepd.index();
    public static final int DOCSTRUCTDEPDVAL = AttributesEnum.DocStructDepdVal.index();
    public static final int LVL = AttributesEnum.Lvl.index();
    public static final int TRANSBUDGAMT = AttributesEnum.TransBudgAmt.index();
    public static final int TRANSRANGESTRTDT = AttributesEnum.TransRangeStrtDt.index();
    public static final int TRANSRANGEENDDT = AttributesEnum.TransRangeEndDt.index();
    public static final int TRANSBUDGAMTDISP = AttributesEnum.TransBudgAmtDisp.index();
    public static final int CLDIDBDGANALYSISHIERARCHYVW_2 = AttributesEnum.CldIdBdgAnalysisHierarchyVw_2.index();

    /**
     * This is the default constructor (do not remove).
     */
    public BdgAnalysisHierarchyVwVORowImpl() {
    }

    /**
     * Gets the attribute value for the calculated attribute CldId.
     * @return the CldId
     */
    public String getCldId() {
        return (String) getAttributeInternal(CLDID);
    }

    /**
     * Gets the attribute value for the calculated attribute SlocId.
     * @return the SlocId
     */
    public Integer getSlocId() {
        return (Integer) getAttributeInternal(SLOCID);
    }

    /**
     * Gets the attribute value for the calculated attribute HoOrgId.
     * @return the HoOrgId
     */
    public String getHoOrgId() {
        return (String) getAttributeInternal(HOORGID);
    }

    /**
     * Gets the attribute value for the calculated attribute OrgId.
     * @return the OrgId
     */
    public String getOrgId() {
        return (String) getAttributeInternal(ORGID);
    }

    /**
     * Gets the attribute value for the calculated attribute DocStruct.
     * @return the DocStruct
     */
    public Integer getDocStruct() {
        return (Integer) getAttributeInternal(DOCSTRUCT);
    }

    /**
     * Gets the attribute value for the calculated attribute DocStructVal.
     * @return the DocStructVal
     */
    public String getDocStructVal() {
        return (String) getAttributeInternal(DOCSTRUCTVAL);
    }

    /**
     * Gets the attribute value for the calculated attribute DocStructValNm.
     * @return the DocStructValNm
     */
    public String getDocStructValNm() {
        return (String) getAttributeInternal(DOCSTRUCTVALNM);
    }

    /**
     * Gets the attribute value for the calculated attribute DocStructDepd.
     * @return the DocStructDepd
     */
    public Integer getDocStructDepd() {
        return (Integer) getAttributeInternal(DOCSTRUCTDEPD);
    }

    /**
     * Gets the attribute value for the calculated attribute DocStructDepdVal.
     * @return the DocStructDepdVal
     */
    public String getDocStructDepdVal() {
        return (String) getAttributeInternal(DOCSTRUCTDEPDVAL);
    }

    /**
     * Gets the attribute value for the calculated attribute Lvl.
     * @return the Lvl
     */
    public Integer getLvl() {
        return (Integer) getAttributeInternal(LVL);
    }

    /**
     * Gets the attribute value for the calculated attribute TransBudgAmt.
     * @return the TransBudgAmt
     */
    public Number getTransBudgAmt() {
        if (resolvEl("#{pageFlowScope.P_ANALYSIS_TYPE}") != null) {
            BdgAnalysisAppAMImpl am = (BdgAnalysisAppAMImpl) this.getApplicationModule();
            if (Integer.parseInt(resolvEl("#{pageFlowScope.P_ANALYSIS_TYPE}").toString()) == 1) {
                am.getEoBudgAmtVw().setNamedWhereClauseParam("cldIdBindVar", this.getCldId());
                am.getEoBudgAmtVw().setNamedWhereClauseParam("slocIdBindVar", this.getSlocId());
                am.getEoBudgAmtVw().setNamedWhereClauseParam("orgIdBindVar", this.getOrgId());
                am.getEoBudgAmtVw().setNamedWhereClauseParam("hoOrgIdBindVar", this.getHoOrgId());
                am.getEoBudgAmtVw().setNamedWhereClauseParam("endDtBindVar", this.getTransRangeEndDt());
                am.getEoBudgAmtVw().setNamedWhereClauseParam("strtDtBindVar", this.getTransRangeStrtDt());
                if (this.getDocStruct().equals(1)) {
                    am.getEoBudgAmtVw().setNamedWhereClauseParam("dtlEoIdBind", null);
                    am.getEoBudgAmtVw().setNamedWhereClauseParam("regionBindVar", null);
                } else if (this.getDocStruct().equals(2)) {
                    am.getEoBudgAmtVw().setNamedWhereClauseParam("dtlEoIdBind", this.getDocStructVal());
                    am.getEoBudgAmtVw().setNamedWhereClauseParam("regionBindVar", this.getDocStructDepdVal());
                } else if (this.getDocStruct().equals(3)) {
                    am.getEoBudgAmtVw().setNamedWhereClauseParam("dtlEoIdBind", null);
                    am.getEoBudgAmtVw().setNamedWhereClauseParam("regionBindVar", this.getDocStructVal());
                }

                //  am.getEoBudgAmtVw().setNamedWhereClauseParam("eoIdBindVar", new Integer(this.getDocStructVal()));
                am.getEoBudgAmtVw().executeQuery();
                Row[] itr =
                    am.getEoBudgAmtVw().getFilteredRows("EoId",
                                                        Integer.parseInt(resolvEl("#{pageFlowScope.APP_USR_EMP_CODE}").toString()));
                if (itr.length > 0) {
                    return (Number) itr[0].getAttribute("BudgAmt");
                }
            } else if (Integer.parseInt(resolvEl("#{pageFlowScope.P_ANALYSIS_TYPE}").toString()) == 2) {
                am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("cldIdBindVar", this.getCldId());
                am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("slocIdBindVar", this.getSlocId());
                am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("orgIdBindVar", this.getOrgId());
                am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("hoOrgIdBindVar", this.getHoOrgId());
                am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("endDtBindVar", this.getTransRangeEndDt());
                am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("strtDtBindVar", this.getTransRangeStrtDt());
                if (this.getDocStruct().equals(1)) {
                    am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("dtlEoIdBind", null);
                    am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("regionBindVar", null);
                } else if (this.getDocStruct().equals(2)) {
                    am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("dtlEoIdBind", this.getDocStructVal());
                    am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("regionBindVar", this.getDocStructDepdVal());
                } else if (this.getDocStruct().equals(3)) {
                    am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("dtlEoIdBind", null);
                    am.getMtlBudgAmtVwVO1().setNamedWhereClauseParam("regionBindVar", this.getDocStructVal());
                }
                am.getMtlBudgAmtVwVO1().executeQuery();
                Row[] itr =
                    am.getMtlBudgAmtVwVO1().getFilteredRows("EoId",
                                                            Integer.parseInt(resolvEl("#{pageFlowScope.APP_USR_EMP_CODE}").toString()));
                if (itr.length > 0) {
                    return (Number) itr[0].getAttribute("BudgAmt");
                }
            } else if (Integer.parseInt(resolvEl("#{pageFlowScope.P_ANALYSIS_TYPE}").toString()) == 3) {
                System.out.println("param in hierarchyviewrowimpl=");
                System.out.println(this.getDocStructDepdVal() + " " + this.getDocStructVal() + " " +
                                   this.getTransRangeStrtDt() + " " + this.getTransRangeEndDt());
                am.getFinBudgetAmtVw1().setNamedWhereClauseParam("cldIdBindVar", this.getCldId());
                am.getFinBudgetAmtVw1().setNamedWhereClauseParam("slocIdBindVar", this.getSlocId());
                am.getFinBudgetAmtVw1().setNamedWhereClauseParam("orgIdBindVar", this.getOrgId());
                am.getFinBudgetAmtVw1().setNamedWhereClauseParam("hoOrgIdBindVar", this.getHoOrgId());
                am.getFinBudgetAmtVw1().setNamedWhereClauseParam("endDtBindVar", this.getTransRangeEndDt());
                am.getFinBudgetAmtVw1().setNamedWhereClauseParam("strtDtBindVar", this.getTransRangeStrtDt());
                if (this.getDocStruct().equals(1)) {
                    am.getFinBudgetAmtVw1().setNamedWhereClauseParam("dtlEoIdBind", null);
                    am.getFinBudgetAmtVw1().setNamedWhereClauseParam("regionBindVar", null);
                } else if (this.getDocStruct().equals(2)) {
                    am.getFinBudgetAmtVw1().setNamedWhereClauseParam("dtlEoIdBind", this.getDocStructVal());
                    am.getFinBudgetAmtVw1().setNamedWhereClauseParam("regionBindVar", this.getDocStructDepdVal());
                } else if (this.getDocStruct().equals(3)) {
                    am.getFinBudgetAmtVw1().setNamedWhereClauseParam("dtlEoIdBind", null);
                    am.getFinBudgetAmtVw1().setNamedWhereClauseParam("regionBindVar", this.getDocStructVal());
                }

                am.getFinBudgetAmtVw1().executeQuery();

                Row[] itr =
                    am.getFinBudgetAmtVw1().getFilteredRows("EoId",
                                                            Integer.parseInt(resolvEl("#{pageFlowScope.APP_USR_EMP_CODE}").toString()));
                System.out.println("No. of rows with" + resolvEl("#{pageFlowScope.APP_USR_EMP_CODE}") + "=" +
                                   itr.length);
                if (itr.length > 0) {
                    return (Number) itr[0].getAttribute("BudgAmt");
                }
            }
        }

        //   return (Number) getAttributeInternal(TRANSBUDGAMT);
        return new Number(0);
    }


    public String resolvEl(String data) {
        FacesContext fc = FacesContext.getCurrentInstance();
        Application app = fc.getApplication();
        ExpressionFactory elFactory = app.getExpressionFactory();
        ELContext elContext = fc.getELContext();
        ValueExpression valueExp = elFactory.createValueExpression(elContext, data, Object.class);
        String Message = valueExp.getValue(elContext).toString();
        return Message;
    }

    public Object resolvElOther(String data) {
        FacesContext fc = FacesContext.getCurrentInstance();
        Application app = fc.getApplication();
        ExpressionFactory elFactory = app.getExpressionFactory();
        ELContext elContext = fc.getELContext();
        ValueExpression valueExp = elFactory.createValueExpression(elContext, data, Object.class);

        return valueExp.getValue(elContext);
    }


    /**
     * Sets <code>value</code> as the attribute value for the calculated attribute TransBudgAmt.
     * @param value value to set the  TransBudgAmt
     */
    public void setTransBudgAmt(Number value) {
        setAttributeInternal(TRANSBUDGAMT, value);
    }

    /**
     * Gets the attribute value for the calculated attribute TransRangeStrtDt.
     * @return the TransRangeStrtDt
     */
    public Timestamp getTransRangeStrtDt() {
        // return (Timestamp) getAttributeInternal(TRANSRANGESTRTDT);
        BdgAnalysisAppAMImpl am = (BdgAnalysisAppAMImpl) this.getApplicationModule();
        if (am.getBdgOrgSumm().getCurrentRow() != null)
            return (Timestamp) am.getBdgOrgSumm().getCurrentRow().getAttribute("PrdStartDt");
        else if (resolvElOther("#{pageFlowScope.P_START_DT}") != null)
            return (Timestamp) resolvElOther("#{pageFlowScope.P_START_DT}");
        else
            return (Timestamp) getAttributeInternal(TRANSRANGESTRTDT);
    }

    /**
     * Sets <code>value</code> as the attribute value for the calculated attribute TransRangeStrtDt.
     * @param value value to set the  TransRangeStrtDt
     */
    public void setTransRangeStrtDt(Timestamp value) {
        setAttributeInternal(TRANSRANGESTRTDT, value);
    }

    /**
     * Gets the attribute value for the calculated attribute TransRangeEndDt.
     * @return the TransRangeEndDt
     */
    public Timestamp getTransRangeEndDt() {
        BdgAnalysisAppAMImpl am = (BdgAnalysisAppAMImpl) this.getApplicationModule();
        if (am.getBdgOrgSumm().getCurrentRow() != null)
            return (Timestamp) am.getBdgOrgSumm().getCurrentRow().getAttribute("PrdEndDt");
        else if (resolvElOther("#{pageFlowScope.P_END_DT}") != null)
            return (Timestamp) resolvElOther("#{pageFlowScope.P_END_DT}");
        else
            return (Timestamp) getAttributeInternal(TRANSRANGEENDDT);
    }


    /**
     * Gets the attribute value for the calculated attribute TransBudgAmtDisp.
     * @return the TransBudgAmtDisp
     */
    public Number getTransBudgAmtDisp() {
        if (this.getTransBudgAmt() != null) {
            BdgAnalysisAppAMImpl amImpl = (BdgAnalysisAppAMImpl) this.getApplicationModule();
            return amImpl.convertNumberNotation(this.getTransBudgAmt());
        } else
            return (Number) getAttributeInternal(TRANSBUDGAMTDISP);
    }

    /**
     * Sets <code>value</code> as the attribute value for the calculated attribute TransBudgAmtDisp.
     * @param value value to set the  TransBudgAmtDisp
     */
    public void setTransBudgAmtDisp(Number value) {
        setAttributeInternal(TRANSBUDGAMTDISP, value);
    }

    /**
     * Gets the associated <code>RowIterator</code> using master-detail link CldIdBdgAnalysisHierarchyVw_2.
     */
    public RowIterator getCldIdBdgAnalysisHierarchyVw_2() {
        return (RowIterator) getAttributeInternal(CLDIDBDGANALYSISHIERARCHYVW_2);
    }


}

